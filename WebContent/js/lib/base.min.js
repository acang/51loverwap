/* header-footer */ 
var Zepto=function(){function a(a){return null==a?String(a):U[V.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return"number"==typeof a.length}function h(a){return D.call(a,function(a){return null!=a})}function i(a){return a.length>0?x.fn.concat.apply([],a):a}function j(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function k(a){return a in G?G[a]:G[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a,b){return"number"!=typeof b||H[j(a)]?b:b+"px"}function m(a){var b,c;return F[a]||(b=E.createElement(a),E.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),F[a]=c),F[a]}function n(a){return"children"in a?C.call(a.children):x.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function o(a,b,c){for(w in b)c&&(f(b[w])||Z(b[w]))?(f(b[w])&&!f(a[w])&&(a[w]={}),Z(b[w])&&!Z(a[w])&&(a[w]=[]),o(a[w],b[w],c)):b[w]!==v&&(a[w]=b[w])}function p(a,b){return null==b?x(a):x(a).filter(b)}function q(a,c,d,e){return b(c)?c.call(a,d,e):c}function r(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function s(a,b){var c=a.className,d=c&&c.baseVal!==v;return b===v?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function t(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:/^0/.test(a)||isNaN(b=Number(a))?/^[\[\{]/.test(a)?x.parseJSON(a):a:b):a}catch(c){return a}}function u(a,b){b(a);for(var c=0,d=a.childNodes.length;d>c;c++)u(a.childNodes[c],b)}var v,w,x,y,z,A,B=[],C=B.slice,D=B.filter,E=window.document,F={},G={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,M=/([A-Z])/g,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=E.createElement("table"),Q=E.createElement("tr"),R={tr:E.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":E.createElement("div")},S=/complete|loaded|interactive/,T=/^[\w-]*$/,U={},V=U.toString,W={},X=E.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(a){return a instanceof Array};return W.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=X).appendChild(a),d=~W.qsa(e,b).indexOf(a),f&&X.removeChild(a),d},z=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},A=function(a){return D.call(a,function(b,c){return a.indexOf(b)==c})},W.fragment=function(a,b,c){var d,e,g;return J.test(a)&&(d=x(E.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(K,"<$1></$2>")),b===v&&(b=I.test(a)&&RegExp.$1),b in R||(b="*"),g=R[b],g.innerHTML=""+a,d=x.each(C.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=x(d),x.each(c,function(a,b){N.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},W.Z=function(a,b){return a=a||[],a.__proto__=x.fn,a.selector=b||"",a},W.isZ=function(a){return a instanceof W.Z},W.init=function(a,c){var d;if(!a)return W.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&I.test(a))d=W.fragment(a,RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}else{if(b(a))return x(E).ready(a);if(W.isZ(a))return a;if(Z(a))d=h(a);else if(e(a))d=[a],a=null;else if(I.test(a))d=W.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}}return W.Z(d,a)},x=function(a,b){return W.init(a,b)},x.extend=function(a){var b,c=C.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){o(a,c,b)}),a},W.qsa=function(a,b){var c,e="#"==b[0],f=!e&&"."==b[0],g=e||f?b.slice(1):b,h=T.test(g);return d(a)&&h&&e?(c=a.getElementById(g))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:C.call(h&&!e?f?a.getElementsByClassName(g):a.getElementsByTagName(b):a.querySelectorAll(b))},x.contains=E.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1},x.type=a,x.isFunction=b,x.isWindow=c,x.isArray=Z,x.isPlainObject=f,x.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},x.inArray=function(a,b,c){return B.indexOf.call(b,a,c)},x.camelCase=z,x.trim=function(a){return null==a?"":String.prototype.trim.call(a)},x.uuid=0,x.support={},x.expr={},x.map=function(a,b){var c,d,e,f=[];if(g(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return i(f)},x.each=function(a,b){var c,d;if(g(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},x.grep=function(a,b){return D.call(a,b)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){U["[object "+b+"]"]=b.toLowerCase()}),x.fn={forEach:B.forEach,reduce:B.reduce,push:B.push,sort:B.sort,indexOf:B.indexOf,concat:B.concat,map:function(a){return x(x.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return x(C.apply(this,arguments))},ready:function(a){return S.test(E.readyState)&&E.body?a(x):E.addEventListener("DOMContentLoaded",function(){a(x)},!1),this},get:function(a){return a===v?C.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return B.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):x(D.call(this,function(b){return W.matches(b,a)}))},add:function(a,b){return x(A(this.concat(x(a,b))))},is:function(a){return this.length>0&&W.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==v)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):g(a)&&b(a.item)?C.call(a):x(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return x(c)},has:function(a){return this.filter(function(){return e(a)?x.contains(this,a):x(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:x(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:x(a)},find:function(a){var b,c=this;return b=a?"object"==typeof a?x(a).filter(function(){var a=this;return B.some.call(c,function(b){return x.contains(b,a)})}):1==this.length?x(W.qsa(this[0],a)):this.map(function(){return W.qsa(this,a)}):[]},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=x(a));c&&!(e?e.indexOf(c)>=0:W.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return x(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=x.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return p(b,a)},parent:function(a){return p(A(this.pluck("parentNode")),a)},children:function(a){return p(this.map(function(){return n(this)}),a)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(a){return p(this.map(function(a,b){return D.call(n(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return x.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=x(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){x(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){x(this[0]).before(a=x(a));for(var b;(b=a.children()).length;)a=b.first();x(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=x(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=x(this);(a===v?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return x(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return x(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;x(this).empty().append(q(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){var c=q(this,a,b,this.textContent);this.textContent=null==c?"":""+c}):0 in this?this[0].textContent:null},attr:function(a,b){var c;return"string"!=typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(e(a))for(w in a)r(this,w,a[w]);else r(this,a,q(this,b,c,this.getAttribute(a)))}):this.length&&1===this[0].nodeType?!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:v},removeAttr:function(a){return this.each(function(){1===this.nodeType&&r(this,a)})},prop:function(a,b){return a=Y[a]||a,1 in arguments?this.each(function(c){this[a]=q(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(M,"-$1").toLowerCase(),d=1 in arguments?this.attr(c,b):this.attr(c);return null!==d?t(d):v},val:function(a){return 0 in arguments?this.each(function(b){this.value=q(this,a,b,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=x(this),d=q(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d=this[0],e=getComputedStyle(d,"");if(!d)return;if("string"==typeof b)return d.style[z(b)]||e.getPropertyValue(b);if(Z(b)){var f={};return x.each(Z(b)?b:[b],function(a,b){f[b]=d.style[z(b)]||e.getPropertyValue(b)}),f}}var g="";if("string"==a(b))c||0===c?g=j(b)+":"+l(b,c):this.each(function(){this.style.removeProperty(j(b))});else for(w in b)b[w]||0===b[w]?g+=j(w)+":"+l(w,b[w])+";":this.each(function(){this.style.removeProperty(j(w))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(x(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?B.some.call(this,function(a){return this.test(s(a))},k(a)):!1},addClass:function(a){return a?this.each(function(b){y=[];var c=s(this),d=q(this,a,b,c);d.split(/\s+/g).forEach(function(a){x(this).hasClass(a)||y.push(a)},this),y.length&&s(this,c+(c?" ":"")+y.join(" "))}):this},removeClass:function(a){return this.each(function(b){return a===v?s(this,""):(y=s(this),q(this,a,b,y).split(/\s+/g).forEach(function(a){y=y.replace(k(a)," ")}),void s(this,y.trim()))})},toggleClass:function(a,b){return a?this.each(function(c){var d=x(this),e=q(this,a,c,s(this));e.split(/\s+/g).forEach(function(a){(b===v?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===v?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===v?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=L.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(x(a).css("margin-top"))||0,c.left-=parseFloat(x(a).css("margin-left"))||0,d.top+=parseFloat(x(b[0]).css("border-top-width"))||0,d.left+=parseFloat(x(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||E.body;a&&!L.test(a.nodeName)&&"static"==x(a).css("position");)a=a.offsetParent;return a})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});x.fn[a]=function(e){var f,g=this[0];return e===v?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=x(this),g.css(a,q(this,e,b,g[a]()))})}}),O.forEach(function(b,c){var d=c%2;x.fn[b]=function(){var b,e,f=x.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:W.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var h=x.contains(E.documentElement,e);f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return x(a).remove();e.insertBefore(a,b),h&&u(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},x.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return x(a)[b](this),this}}),W.Z.prototype=x.fn,W.uniq=A,W.deserializeValue=t,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)x.test(b)||a[b]===l||(c[b]=a[b]);return j(c,a)}var l,m=1,n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){var e=2 in arguments&&n.call(arguments,2);if(o(c)){var f=function(){return c.apply(d,e?e.concat(n.call(arguments)):arguments)};return f._zid=b(c),f}if(p(d))return e?(e.unshift(c[d],c),a.proxy.apply(null,e)):a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(p(c)||o(e)||e===!1||(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(p(c)||o(d)||d===!1||(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/;a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c=a.extend({},b||{}),e=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===c[p]&&(c[p]=a.ajaxSettings[p]);d(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),m(c);var i=c.dataType,n=/\?.+=\?/.test(c.url);if(n&&(i="jsonp"),c.cache!==!1&&(b&&b.cache===!0||"script"!=i&&"jsonp"!=i)||(c.url=l(c.url,"_="+Date.now())),"jsonp"==i)return n||(c.url=l(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),a.ajaxJSONP(c,e);var o,r=c.accepts[i],s={},t=function(a,b){s[a.toLowerCase()]=[a,b]},u=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,v=c.xhr(),w=v.setRequestHeader;if(e&&e.promise(v),c.crossDomain||t("X-Requested-With","XMLHttpRequest"),t("Accept",r||"*/*"),(r=c.mimeType||r)&&(r.indexOf(",")>-1&&(r=r.split(",",2)[0]),v.overrideMimeType&&v.overrideMimeType(r)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&t("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(q in c.headers)t(q,c.headers[q]);if(v.setRequestHeader=t,v.onreadystatechange=function(){if(4==v.readyState){v.onreadystatechange=j,clearTimeout(o);var b,d=!1;if(v.status>=200&&v.status<300||304==v.status||0==v.status&&"file:"==u){i=i||k(c.mimeType||v.getResponseHeader("content-type")),b=v.responseText;try{"script"==i?(1,eval)(b):"xml"==i?b=v.responseXML:"json"==i&&(b=y.test(b)?null:a.parseJSON(b))}catch(f){d=f}d?h(d,"parsererror",v,c,e):g(b,v,c,e)}else h(v.statusText||null,v.status?"error":"abort",v,c,e)}},f(v,c)===!1)return v.abort(),h(null,"abort",v,c,e),v;if(c.xhrFields)for(q in c.xhrFields)v[q]=c.xhrFields[q];var x="async"in c?c.async:!0;v.open(c.type,c.url,x,c.username,c.password);for(q in s)w.apply(v,s[q]);return c.timeout>0&&(o=setTimeout(function(){v.onreadystatechange=j,v.abort(),h(null,"timeout",v,c,e)},c.timeout)),v.send(c.data?c.data:null),v},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var z=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(z(a)+"="+z(b))},o(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c=[];return a([].slice.call(this.get(0).elements)).each(function(){b=a(this);var d=b.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=d&&"reset"!=d&&"button"!=d&&("radio"!=d&&"checkbox"!=d||this.checked)&&c.push({name:b.attr("name"),value:b.val()})}),c},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,c){return b=b||[],a.extend(b,a.fn),b.selector=c||"",b.__Z=!0,b},isZ:function(b){return"array"===a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var c=getComputedStyle;window.getComputedStyle=function(a){try{return c(a)}catch(b){return null}}}}(Zepto),function(a){function b(c){var d=[["resolve","done",a.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",a.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",a.Callbacks({memory:1})]],e="pending",f={state:function(){return e},always:function(){return g.done(arguments).fail(arguments),this},then:function(){var c=arguments;return b(function(b){a.each(d,function(d,e){var h=a.isFunction(c[d])&&c[d];g[e[1]](function(){var c=h&&h.apply(this,arguments);if(c&&a.isFunction(c.promise))c.promise().done(b.resolve).fail(b.reject).progress(b.notify);else{var d=this===f?b.promise():this,g=h?[c]:arguments;b[e[0]+"With"](d,g)}})}),c=null}).promise()},promise:function(b){return null!=b?a.extend(b,f):f}},g={};return a.each(d,function(a,b){var c=b[2],h=b[3];f[b[1]]=c.add,h&&c.add(function(){e=h},d[1^a][2].disable,d[2][2].lock),g[b[0]]=function(){return g[b[0]+"With"](this===g?f:this,arguments),this},g[b[0]+"With"]=c.fireWith}),f.promise(g),c&&c.call(g,g),g}var c=Array.prototype.slice;a.when=function(d){var e,f,g,h=c.call(arguments),i=h.length,j=0,k=1!==i||d&&a.isFunction(d.promise)?i:0,l=1===k?d:b(),m=function(a,b,d){return function(f){b[a]=this,d[a]=arguments.length>1?c.call(arguments):f,d===e?l.notifyWith(b,d):--k||l.resolveWith(b,d)}};if(i>1)for(e=new Array(i),f=new Array(i),g=new Array(i);i>j;++j)h[j]&&a.isFunction(h[j].promise)?h[j].promise().done(m(j,g,h)).fail(l.reject).progress(m(j,f,e)):--k;return k||l.resolveWith(g,h),l.promise()},a.Deferred=b}(Zepto),function(a){a.Callbacks=function(b){b=a.extend({},b);var c,d,e,f,g,h,i=[],j=!b.once&&[],k=function(a){for(c=b.memory&&a,d=!0,h=f||0,f=0,g=i.length,e=!0;i&&g>h;++h)if(i[h].apply(a[0],a[1])===!1&&b.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i.length=0:l.disable())},l={add:function(){if(i){var d=i.length,h=function(c){a.each(c,function(a,c){"function"==typeof c?b.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!=typeof c&&h(c)})};h(arguments),e?g=i.length:c&&(f=d,k(c))}return this},remove:function(){return i&&a.each(arguments,function(b,c){for(var d;(d=a.inArray(c,i,d))>-1;)i.splice(d,1),e&&(g>=d&&--g,h>=d&&--h)}),this},has:function(b){return!(!i||!(b?a.inArray(b,i)>-1:i.length))},empty:function(){return g=i.length=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||d&&!j||(b=b||[],b=[a,b.slice?b.slice():b],e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments)},fired:function(){return!!d}};return l}}(Zepto),function(a){a.Callbacks=function(b){b=a.extend({},b);var c,d,e,f,g,h,i=[],j=!b.once&&[],k=function(a){for(c=b.memory&&a,d=!0,h=f||0,f=0,g=i.length,e=!0;i&&g>h;++h)if(i[h].apply(a[0],a[1])===!1&&b.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i.length=0:l.disable())},l={add:function(){if(i){var d=i.length,h=function(c){a.each(c,function(a,c){"function"==typeof c?b.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!=typeof c&&h(c)})};h(arguments),e?g=i.length:c&&(f=d,k(c))}return this},remove:function(){return i&&a.each(arguments,function(b,c){for(var d;(d=a.inArray(c,i,d))>-1;)i.splice(d,1),e&&(g>=d&&--g,h>=d&&--h)}),this},has:function(b){return!(!i||!(b?a.inArray(b,i)>-1:i.length))},empty:function(){return g=i.length=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||d&&!j||(b=b||[],b=[a,b.slice?b.slice():b],e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments)},fired:function(){return!!d}};return l}}(Zepto);
if("undefined"==typeof template)var template={};var Exp=function($,template){var cache={cssSupport:{}},Sys={},ua=navigator.userAgent.toLowerCase(),s;(s=ua.match(/msie ([\d.]+)/))?Sys.ie=s[1]:(s=ua.match(/firefox\/([\d.]+)/))?Sys.firefox=s[1]:(s=ua.match(/chrome\/([\d.]+)/))?Sys.chrome=s[1]:(s=ua.match(/opera.([\d.]+)/))?Sys.opera=s[1]:(s=ua.match(/version\/([\d.]+).*safari/))?Sys.safari=s[1]:0,Sys.ios=ua.match(/\(i[^;]+;( u;)? cpu.+mac os x/);var Exp={mobile:!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),addDefaultsEvents:function(a){function b(){return!1}for(var c=this.mobile,d=["mousewheel","DOMMouseScroll",c?"touchstart":"mousedown",c?"touchmove":"mousemove",c?"touchend":"mouseup"],e=d.length;e--;)a.on(d[e],b)},cssSupports:function(){var a=cache.cssSupport;return function(b){var c=document.createElement("div"),d="khtml o moz webkit".split(" "),e=d.length,f=!1;if(b=b.replace(/-[\w]/g,function(a){return a.toUpperCase().substring(1)}),b in a)return a[b];if("-ms-"+b in c.style)f="-ms-"+b;else for(b=b.replace(/^[a-z]/,function(a){return a.toUpperCase()});e-=1;)d[e]+b in c.style&&(f=d[e]+b);return a[b]=f}}(),css:function(a,b,c){var d=document.defaultView.getComputedStyle,e=this.cssSupports(b);if(void 0===c)return a.length&&(a=a[0]),a&&a.style[e]||a&&d(a,"").getPropertyValue(b);if(a.length)for(var f=0;f<a.length;f++)a[f].style[e]=c;else a.style[e]=c},css3:function(a,b){var c=/\((?:[\s,]*([-\d\.]+)[px\s]*)?(?:[\s,]*([-\d\.]+)[px\s]*)?(?:[\s,]*([-\d\.]+)[px\s]*)?/g,d=c.exec(Exp.css(a,b));return d&&d.shift(),d},HTMLTemplate:function(opts){function handleSanmuExpression(html){var expression=/\&{.*?[<>=]?(.*?["']?:["']?.*?["']?)}/g,results=html.match(expression);if(results&&results.length>0)for(var i=results.length,result,sanmuStr="";i--;){result=results[i],result&&(sanmuStr=result.replace(/^\&{/,"").replace(/}$/,""));try{html=html.replace(result,eval(sanmuStr))}catch(e){}}return html}var o=opts.param||{},html=[opts.string].join("").replace(/[\f\n\r\t\v]+/gi,"");if(o){for(var i in o){var re=new RegExp("&\\{"+i+"\\}","g");html=html.replace(re,o[i])}return html=handleSanmuExpression(html)}return html=handleSanmuExpression(html)},Class:function(){function a(){this.init&&this.init()}function b(a,b){return i[a]=b,g[a]=b}function c(a,b){for(var c in b)a[c]=b[c];return a}function d(){}function e(){for(var a=this._super.caller,b=a._methodName,c=this.constructor[h],d="__called_flag__";c=c[h];){var e=c[b];if(e&&!c[d]){c[d]=!0,e.apply(this,arguments),delete c[d];break}}}function f(a,g,i){function j(){var a=this.init;a&&a.apply(this,arguments)}b(a,j);if(i||(i=g,g=null),g&&(g.inherit&&c(j,this),c(j,g)),j.extend=f,d.prototype=this.prototype,j.prototype=new d,j.prototype.constructor=j,j.include=function(a){c(this.prototype,a)},i){var k,l=j.prototype;for(var m in i)k=i[m],k._methodName=m,l[m]=k;l._super=e,l.include=function(a){c(this,a)},i[h]=this[h],j[h]=i}return j.init&&j.init(),j}var g=window,h="__prototype__",i={};return a.extend=f,a.get=function(a){return i[a]},a}(),extend:function(a,b,c){var d=Object.prototype.toString,e="[object Array]";a=a||{};for(var f in b)c===!0&&b.hasOwnProperty(f)&&"object"==typeof b[f]?(a[f]||(a[f]=d.call(b[f])===e?[]:{}),arguments.callee(a[f],b[f])):a[f]=b[f];return a},getTop:function(a,b){var c=0;if(null!=a.offsetParent){c=a.offsetTop;var d=a.offsetParent;b?c+=arguments.callee(a.offsetParent):-1=="relative absolute fixed".indexOf(d.style.position)&&(c+=arguments.callee(a.offsetParent))}else null!=a.offsetParent;return c},getLeft:function(a,b){var c=0;if(null!=a.offsetParent){c=a.offsetLeft;var d=a.offsetParent;b?c+=arguments.callee(a.offsetParent):-1=="relative absolute fixed".indexOf(d.style.position)&&(c+=arguments.callee(a.offsetParent))}return c},getVersion:function(){return Sys},checkDevice:{isMobile:function(){return navigator.userAgent.match(/Win/i)||navigator.userAgent.match(/MacIntel/i)||navigator.userAgent.match(/Linux/i)?!1:!0}},position:{getHeight:function(){var a=document.documentElement.offsetHeight||document.body.offsetHeight;return a},scrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},scrollHeight:function(){return document.documentElement.scrollHeight||document.body.scrollHeight},clientHeight:function(){return document.documentElement.clientHeight||document.body.clientHeight}},remove:function(){return this.parentNode?void this.parentNode.removeChild(this):void 0},buttonChange:function(a){function b(){g.valide({hide:!0,notRemote:!0})?(c.removeClass(e).addClass(d),j&&j(!0)):(c.removeClass(d).addClass(e),j&&j(!1))}var a=a||{},c=a.button,d=a.notClass,e=a.yesClass,f=(a.inputsId,a.valideId,a.errorClass,a.checkbox),g=a.valideEl,h=a.lisenerParent,i=!1,j=a.callBack,k=a.clickCallback;$(h||window).on("input",function(){f&&f.element.hasClass(f.uncheckClass)||b()}),k&&Exp.click(c,function(){g.valide()?(c.removeClass(e).addClass(d),k&&k(!0)):(c.removeClass(d).addClass(e),k&&k(!1))}),f&&Exp.click(f.element,function(){var a=$(this);a.hasClass(a.uncheckClass)?(i=!0,a.removeClass(a.uncheckClass)):(i=!1,a.addClass(a.uncheckClass)),changeState()}),b()},pageList:function(a){var b,c,d=a.root,e=a.pages,f=0,g=a.minInterval||500,h=new Date;a.currentIndex=a.currentIndex||0;var i=a.slidePageBtns;e.each(function(b,c){var f=(i.eq(b),e.eq(b));f.on("transitionend",function(c){a.transitionEndCall&&a.transitionEndCall({target:f,root:d,pages:e,index:b,elapsedTime:c.elapsedTime,propertyName:c.propertyName,type:"transitionend"})})}),i.each(function(j,k){var l=i.eq(j),m=e.eq(j);l.on("mousedown touchstart",function(c){if(new Date-h<g)return f=0,!1;h=new Date,f=1;var i=c.touches?c.touches[0]:c;b={x:i.clientX,y:i.clientY},a.touchStartCall&&a.touchStartCall({start:b,target:c.target,curPage:m,root:d,pages:e,index:j,type:"touchstart"});var k=c.srcElement||c.target;"A"!==k.tagName.toUpperCase()&&c.preventDefault()}).on("mousemove touchmove",function(c){if(!(0==f||f>2)){var g=!1,h=c.touches?c.touches[0]:c,i={x:h.clientX,y:h.clientY},k=i.y-b.y,l=i.x-b.x;k>=0&&0==j&&!g||0>=k&&j==e.length-1&&!g||(1==f&&(f=2,g=!0),2==f&&(k||l)&&a.touchMoveCall&&a.touchMoveCall({start:b,move:i,target:c.target,curPage:m,root:d,pages:e,index:j,type:"touchmove",first:g}),c.preventDefault())}}).on("mouseup touchend",function(g){if(0!=f){f=3;var h=g.changedTouches?g.changedTouches[0]:g;c={x:h.clientX,y:h.clientY};var i=c.y-b.y,k=c.x-b.x;if(i>=0&&0==j)return void((i||k)&&a.firstPageEndCall&&a.firstPageEndCall({start:b,move:c,target:g.target,curPage:m,root:d,pages:e,index:j,type:"touchend"}));if(0>=i&&j==e.length-1)return void((i||k)&&a.lastPageEndCall&&a.lastPageEndCall({start:b,move:c,target:g.target,curPage:m,root:d,pages:e,index:j,type:"touchend"}));(i||k)&&a.touchEndCall&&a.touchEndCall({start:b,move:c,target:g.target,curPage:m,root:d,pages:e,index:j,type:"touchend"}),g.preventDefault()}})})},alertBox:function(){function a(a){return a.preventDefault(),!1}function b(a){this.opts=a||{},this.title=this.opts.title||"",this.msg=this.opts.msg||"",this.type=this.opts.type||"default",this.hasMask=this.opts.hasMask===!1?!1:!0,this.confirm=this.opts.confirm||function(){},this.cancel=this.opts.cancel||function(){};var b=this.opts.callBack,c=this;this.callBack=function(){b&&b.call(c),Exp.clickActive($(c.el))},this._event=Exp.checkDevice.isMobile()?"tap":"click",a.animate||a.animate===!1||(a.animate="alert-box-anim"),a.bgAnimate||a.bgAnimate===!1||(a.bgAnimate="alert-bg-anim"),this.animate=a.animate,this.bgAnimate=a.bgAnimate,this.scrollerClass=a.scrollerClass,this.survivePeriod=a.survivePeriod||!1,this.createTime=new Date,this.delayRender=a.delayRender===!1||a.delayRender?a.delayRender:!0,this.upOffset=a.upOffset||0,this.resetCallback=a.resetCallback,this.asyncResetCallback=a.asyncResetCallback,this.background=a.background,this.bgClickReset=a.bgClickReset}return b.prototype={init:function(){var a=this;switch(a.type){case"default":var b='<div class="alert-box"><div class="msg">&{msg}</div><div class="wbox"><div class="wbox-col-a btn-b btn-cancel mr20"><a href="#">取消</a></div><div class="wbox-col-a btn-c btn-confirm"><a href="#">确定</a></div></div></div>';break;case"alert":var b='<div class="alert-box"><div class="msg">&{msg}</div><div class="layout wbox"><div class="wbox-col-a btn-c btn-confirm"><a href="#">确定</a></div></div></div>';break;case"validate":var b='<div class="alert-box alert-box-valide"><div class="msg">&{msg}</div></div>';break;case"custom":var b=this.opts.html}var c=Exp.HTMLTemplate({string:b,param:{msg:a.msg}});return a.delayRender?setTimeout(function(){a.render(c)},50):a.render(c),"validate"==a.type&&a.opts.autoCancel&&setTimeout(function(){a.cancel&&a.cancel(),a.reset()},1500),this},render:function(b){function c(){f.setMaskPos(),f.opts.setPos?f.opts.setPos.call(f):f.setPos()}function d(a){m=a.touches[0].clientY}function e(a){var b=l.height(),c=l[0].scrollTop,d=l[0].scrollHeight,e=a.touches[0].clientY,f=m-e;return c>=0&&d>c+b&&f>0?a.stopPropagation():c>0&&d>=c+b&&0>f?a.stopPropagation():a.preventDefault(),!1}var f=this,g=document.body;if(this.opts.contextAnimate){var h=$(g),i=h.find(".alert-context"),j=h.children(":not(.alert-context):not(script)");i.length||(i=$('<section class="alert-context"></section>').appendTo(h)),i.append(j),this.context=i}g.insertAdjacentHTML("beforeend",b);var k=f.el=f.get(".alert-box");if(f.hasMask&&f.mask(g),this.setPosProxy=c,f.animate&&k.setAttribute("class",(k.getAttribute("class")||"")+" "+f.animate),f.context&&f.context.addClass("alert-back-in"),f.opts.renderTime?setTimeout(function(){"function"==typeof f.callBack&&f.callBack(),$(window).on("resize",c),c()},f.opts.renderTime):"function"==typeof f.callBack&&(f.callBack(),$(window).on("resize",c)),c(),f.addEvent(),document.addEventListener("touchmove",a),this.scrollerClass){var l=$("."+this.scrollerClass);l[0].addEventListener("touchstart",d),l[0].addEventListener("touchmove",e);var m}},mask:function(a){var b=this,c=document.createElement("div");c.setAttribute("class","alert-box-bg alert-box-bg-"+b.type+(this.opts&&this.opts.rootClass?" "+this.opts.rootClass+"-bg":"")),this.bg=c,this.background!==!1&&(a.appendChild(c),this.setMaskPos(),b.bgAnimate&&c.setAttribute("class",(c.getAttribute("class")||"")+" "+b.bgAnimate),this.bgClickReset!==!1&&Exp.click($(b.bg),function(){$(b.bg).hasClass("alert-box-bg-validate")||b.reset()}))},setMaskPos:function(){var a=Exp.position.scrollHeight();this.bg.style.cssText+=";height:"+a+"px;width:"+document.documentElement.scrollWidth+"px;"},setPos:function(){var a=this,b=a.el,c=a.bg,d=Exp.position.scrollTop();b.style.cssText+=";top:"+(d+window.innerHeight/2-b.offsetHeight/2-this.upOffset)+"px;left:"+(document.documentElement.offsetWidth/2-b.offsetWidth/2)+"px;","mini"==a.type&&(c.style.opacity=0,setTimeout(function(){c.fadeOut(500,function(){$(this).remove()}),c.fadeOut(500,function(){$(this).remove()})},2e3))},addEvent:function(){var a=this,b=a.el;$(b.querySelector(".btn-confirm")).on(a._event,function(c){a.confirm(b),a.reset(),c.preventDefault()}),"alert"!=a.type&&$(b.querySelector(".btn-cancel")).on(a._event,function(c){a.cancel(b),a.reset(),c.preventDefault()})},reset:function(){if(!(this.survivePeriod&&new Date-this.createTime<this.survivePeriod)){var a=this,b=a.context;a.context=null,setTimeout(function(){var c=a.el,d=a.bg,e=$(c),f=$(d),g=a.opts;e.removeClass(g.animate).addClass(g.animateOut||"alert-box-anim-out"),f.removeClass(g.bgAnimate).addClass(g.bgAnimateOut||"alert-bg-anim-out"),b&&b.addClass("alert-front-in").removeClass("alert-back-in"),setTimeout(function(){d&&Exp.remove.call(d),Exp.remove.call(c),a.resetCallback&&a.resetCallback.call(a),"mini"!=this.type&&a.die(c),b&&b.removeClass("alert-back-in alert-front-in")},390),a.removeScrollerEvent(),a.asyncResetCallback&&a.asyncResetCallback.call(a)},50)}},removeScrollerEvent:function(){document.removeEventListener("touchmove",a),$(window).off("resize",this.setPosProxy)},die:function(){var a=this,b=a.el;$(b.querySelector(".btn-confirm")).off(a._event),"alert"!=a.type&&$(b.querySelector(".btn-cancel")).off(a._event)},get:function(a){var b=document.querySelectorAll(a);return b[b.length-1]}},function(a){return new b(a).init()}}(),stopper:function(a,b){b=b||1e3;var c;return function(){time=new Date,(!c||time-c>b)&&(a(),c=time)}},registerListener:function(a,b,c,d){d||(d=c,c=void 0);var e=Exp.mobile,f={touchstart:{name:e?"touchstart":"mousedown",path:"touches"},touchmove:{name:e?"touchmove":"mousemove",path:"touches"},touchend:{name:e?"touchend":"mouseup",path:"changedTouches"}},g=f[b],h=function(a){var b=a[g.path]?a[g.path][0]:a,c=this;return d?d.call(c,b,a):void 0},i=[g.name,c,h];c||i.slice(1,1),a.on.apply(a,i)},touchstart:function(a,b,c){this.registerListener(a,"touchstart",b,c)},touchmove:function(a,b,c){this.registerListener(a,"touchmove",b,c)},touchend:function(a,b,c){this.registerListener(a,"touchend",b,c)},click:function(a,b,c,d){var e;"function"==typeof arguments[1]&&(d=c,c=b,b=void 0),this.touchstart(a,b,function(a){e={x:a.clientX,y:a.clientY}}),this.touchend(a,b,function(a){var b=this;if(e&&Math.abs(a.clientX-e.x)<=5&&Math.abs(a.clientY-e.y)<=5){if(c){if(d===!0)return c.call(b,a);setTimeout(function(){c.call(b,a)},110)}e=null}})},touch:function(a,b,c,d){var e;Exp.touchstart(a,function(c){var d=/translate3d\(([\d-+.]+)px?, ([\d-+.]+)px?, ([\d-+.]+)px?\)/gi.exec(Exp.css(a,"transform")),f=d?d[2]-0:0;return e={x:c.clientX,y:c.clientY,startY:f},b?b.call(a,c,e):void 0}),Exp.touchmove(a,function(b){if(e){var d={x:b.clientX,y:b.clientY,subX:b.clientX-e.x,subY:b.clientY-e.y};return c?c.call(a,b,d):void 0}}),Exp.touchend(a,function(b){if(e){var c={x:b.clientX,y:b.clientY,subX:b.clientX-e.clientX,subY:b.clientY-e.clientY};return e=null,d?d.call(a,b,c):void 0}})},page:function(a){var b,c='<div class="alert-box alert-page-box'+(a.rootClass?" "+a.rootClass:"")+'">',d="</div>",e=this,f={slideOut:function(a){return b=setTimeout(function(){},400),this.alertBox.slideOut(a),this},slideIn:function(){return b&&(clearTimeout(b),b=0),this.alertBox.slideIn(),this},remove:function(){return this.alertBox.reset(),this},hide:function(){return this.alertBox.el.style.display="none",this.alertBox.bg.style.display="none",this},show:function(){return this.alertBox.el.style.display="block",this.alertBox.bg.style.display="block",this},create:function(){return this.alertBox=e.alertBox({delayRender:!1,type:"custom",rootClass:a.rootClass,html:c+(a&&a.html?a.html:"")+d,transition:{position:a.position||"bottom",to:a.to||"200px"},resetCallback:a.resetCallback,asyncResetCallback:a.asyncResetCallback,bgClickReset:a.bgClickReset,background:a.background,setPos:function(){function b(a,b){c(a,b)}function c(b,c){var d=c.position,e=0,f=0,g=window.innerWidth,h=window.innerHeight;"top"==d?(f=-c.to,a.auto===!0?(h=b.height(),c.to=h):h=c.to):"bottom"==d?(f=h,a.auto===!0?(h=b.height(),c.to=h):h=b.height()):"left"==d?(e=-c.to,a.auto===!0?(g=b.width(),c.to=g):g=c.to):"right"==d&&(e=window.innerWidth,a.auto===!0?(g=b.width(),c.to=g):g=c.to),b.css({top:f,left:e,height:h,width:g,opacity:0})}var d=this,g=$(this.el),h=$(this.bg),i=this.opts,j=i.transition,k=(j.to+"").match(/(\d+)(.*)/);e.position.scrollTop();this.addEvent=function(){},this.bgClickReset!==!1&&e.click(h,function(){d.slideOut()}),"%"==k[2]?j.to=("top bottom".indexOf(j.position)>-1?window.innerHeight:window.innerWidth)*(k[1]/100):j.to=k[1]-0,b(g,j),this.slideIn=function(){var a=j.position,b=0,c=0;"top"==a?c=j.to:"bottom"==a?c=-j.to:"left"==a?b=j.to:"right"==a&&(b=-j.to),setTimeout(function(){g.addClass("page-slide-ani"),e.css(g,"transform","translate3d("+b+"px,"+c+"px,0px)"),g.css({opacity:1})},10)},this.slideOut=function(a){var b=this,c=this.opts;g.addClass("page-slide-ani"),h.addClass(c.bgAnimateOut||"alert-box-anim-out2").removeClass(c.bgAnimate||"alert-bg-anim");var d=j.position,i=0,k=0;return"top"==d?k=0:"bottom"==d?k=0:"left"==d?k=0:"right"==d&&(k=0),e.css(g,"transform","translate3d("+i+"px,"+k+"px,0px)"),a&&a.persistent===!0?void g.css("opacity",0):(f.remove(),void b.removeScrollerEvent())},this.reset=function(){h.css("opacity",0);var b=this,c=this.el,d=this.bg,f=this.opts;setTimeout(function(){f&&f.resetCallback&&f.resetCallback.call(b),d&&e.remove.call(d),e.remove.call(c)},a.slideTime||410),f&&f.asyncResetCallback&&f.asyncResetCallback.call(this)},a.resizeCallback&&a.resizeCallback.call(this)},animate:"alert-page-anim",bgAnimate:"alert-bg-anim2",bgAnimateOut:"alert-bg-anim-out2",autoCancel:!0,callBack:a.alertCallBack||function(){}}),this}};return f.create(),f},lazier:function(a){"undefined"==typeof a&&(a={});var b=a.type||"class",c=a.property||"data-lasy",d=a.type||"data-lasytype",e=[],f=$(document.body);return{operate:function(a,b,c){switch(a){case"class":b.addClass(c);break;case"image":b.is("img")?b.attr("src",c):b.css("background-image",c)}},find:function(){var a=f.find("["+c+"]");a.each(function(a,f){var f=$(f),g=f.offset();e.push({el:f,value:f.attr(c),top:g.top,left:g.left,type:f.attr(d)||b}),f.removeAttr(c)})},scrolled:function(){var a=f.prop("scrollTop"),b=document.body.offsetHeight||document.body.clientHeight,c=a+b,d=this.operate;e=e.filter(function(b){return b.top>=a&&b.top<=c?(d(b.type,b.el,b.value),!1):!0})},start:function(){var a=this;window.addEventListener("scroll",function(){a.scrolled()},!1)}}},scrolledAjax:function(a){function b(){if(C&&B.scrolled(),r&&z)g();else{if(q||!z)return;c()&&g()}}function c(){var a=document.documentElement,b=document.body,c=a.clientHeight||b.clientHeight,d=b.scrollTop||a.scrollTop,e=b.scrollHeight||a.scrollHeight;return c+d+u>e?!0:!1}function d(){var b=x.parent(),c=b.find(".scroll-loading"),d=0===c.length;a.loader!==!1&&(a.loader?i=a.loader:i||(i=$('<div class="scroll-loading"><span class="mb3 loading-flag"/>&nbsp;正在加载中...</div>'),d?i:i="",""!==i&&i.insertAfter(x),b.css("position","relative"),j=Exp.createCanvasLoading(x)),i&&i.show())}function e(){i&&i.hide()}function f(){j&&(j.remove(),j=null)}function g(){if(!y){r=!1;var b=a,c=b.data;if(d(),c[n]=++t,w<c[n])return e(),f(),void--t;c.pageSize=k,c.pageIndex=Math.ceil(t/k),c[o]=t+=k-1,c.timestamp=(new Date).getTime(),w<c[o]&&(c[o]=w),y=!0,$.ajax({url:b.url,type:b.type||"GET",data:c||{},dataType:"json",success:function(a){f(),h(a),Exp.clickActive(x),C&&(B.find(),B.scrolled())},error:function(){f(),s>0?(s--,t-=k,y=!1,g()):(y=!1,t-=k,e())}})}}function h(b){if(b){var d=[];if(w=b[m]>l?l:b[m]){var f=b[p];if(t==k&&(A.list=f||[]),f&&f.length>0)if(a.template){for(var h=0,i=f.length;i>h;h++){var j="string"==typeof a.template?a.template:"function"==typeof a.template?a.template(f[h],h):"",n=(f[h],Exp.HTMLTemplate({string:j,param:a.handleData?a.handleData(f[h],h):f[h]}));x[0].insertAdjacentHTML("beforeend",n);var q=x[0].lastElementChild;a.animate&&q.setAttribute("class",(q.getAttribute("class")||"")+" "+a.animate),d.push(q)}a.animate&&setTimeout(function(){for(var a=0,b=d.length;b>a;a++)d[a].style.opacity=1},10)}else{if(a.handleData)for(var h=0,i=f.length;i>h;h++)a.handleData(f[h],h);var j=template(a.templateId,b);x.append(j);var r=x.children(),s=r.size(),u=f.length;if(a.animate)for(;u--;)!function(b){var c=r.get(b);d.push(c),c.setAttribute("class",(c.getAttribute("class")||"")+" "+a.animate),setTimeout(function(){c.style.opacity=1},10)}(s-u-1)}if(a.success&&a.success(b,a,d),w<=a.data[o]){if(a.endCallback){var z=l&&l<b[m]&&t>=l;a.endCallback(a,z)}e()}}else a.zeroCallback&&(e(),a.zeroCallback(a,x,b))}y=!1,c()&&v!==!1&&g()}var i,j,k=a.steps||10,l=a.maxRecords||150,m=a.totalFlag||"total",n=a.startFlag||"startIndex",o=a.endFlag||"endIndex",p=a.recordsFlag||"list",q=0,r=!0,s=3,t=0,u=150,v=a.autoGetData===!1?!1:!0,w=k,x=a.parent,y=!1,z=void 0===a.startFetch?!0:a.startFetch,A={list:[]},B=Exp.lazier(),C=a.lasyAnimate;return a.data=a.data||{},z&&v!==!1&&g(),v!==!1&&window.addEventListener("scroll",b,!1),{start:function(){z=!0,$(window).trigger("scroll")},close:function(){z=!1},getData:function(){g()},isLoadingData:function(){return y},clearLoading:function(){e()},destory:function(){window.removeEventListener("scroll",b),i&&i.remove(),this.pulldownRefresh&&this.pulldownRefresh.destory()},resetRemainTimes:function(){s=3,r=!0,w=k},abort:function(){this.ajaxObject&&this.ajaxObject.abort()},createPulldownRefresh:function(a){var b=a.element,c=a.pullDownArea||x,d=a.insertBeforeEl,e=a.endCallback,f=a.id,g=f?f.split(" "):[],h=0===x.find(".ui-pulldown-refresh").length;if(!b){var i='<div class="ui-pulldown-refresh"><div style="bottom:'+(a.bottom||0)+';"><i></i><span>下拉刷新</span></div></div>';h?i:i="",d=d||c,b=$(i).insertBefore(d)}var j=this;this.pulldownRefresh=Exp.pulldownRefresh({element:b,pullDownArea:c,insertBeforeEl:d,endCallback:function(a){j.abort(),j.update(g,a),e&&e()}})},update:function(b,c){function d(a,b,c){var d=c.length,e=a.length;if(e!=b.length)return!1;for(var f,g,h=0;e>h;h++){f=a[h],g=b[h];for(var i=0;d>i;i++)if(f[c[i]]!=g[c[i]])return!1}return!0}var e=A.list,f=a,g=f.data,i=b.length;if(e){var j={};j=$.extend(j,f.data||{}),j[n]=1,j.pageSize=k,j.pageIndex=Math.ceil(1/k),j[o]=k,j.timestamp=(new Date).getTime(),this.ajaxObject=$.ajax({url:f.url,type:f.type||"GET",data:j||{},dataType:"json",success:function(a){var f=a[p]||[],j=e,l=f,m=!0;l?m=j&&i?d(l,j,b):!1:l!=j&&(m=!1),m?c.refreshNoData():(t=0,g[n]=++t,g.pageSize=k,g.pageIndex=Math.ceil(t/k),g[o]=t+=k-1,x.empty(),c.hide(),h(a)),C&&(B.find(),B.scrolled())}})}}}},sectionSlide:function(a,b,c,d){this.box=$(a),this.tabs=$(b),this.tabBg=$(c),this.contents=this.box.children(),this.tabBgMove=0,this.config=$.extend({},d||{}),this.width=this.config.width||this.box.width(),this.size=this.config.size||this.box.children().length,this.loop=this.config.loop||!1,this.auto=this.config.auto||!1,this.auto_wait_time=this.config.auto_wait_time||3e3,this.scrollTime=300,this.minleft=-this.width*(this.size-1),this.maxleft=0,this.nowLeft=0,this.pointX=null,this.startX=null,this.startY=null,this.index=this.config.index,this.touchSlide=this.config.touchSlide,this.terminalFix=this.config.terminalFix||!1,this.busy=!1,this.timer,this.slope=.8;var e=this.tabs.find("li.on");"number"!=typeof this.index&&e.size()&&(this.index=this.tabs.find("li").index(e));var f=0;this.init=function(){var a=this.width;this.contents.width(a),this.bindEvent(),this.initWidth(),this.autoScroll(),this.index>0&&this.goIndex(this.index,!0),this.fixPage(this.index)},this.initWidth=function(){this.box.css("width",this.width*this.size),this.tabBg.css("width",1/this.size*100+"%")},this.bindEvent=function(){var a,b,c=this,d=!0;Exp.click(c.tabs.children(),function(){if(!c.busy){var a=$(this).index();c.tabsClick(a)}}),c.touchSlide||Exp.touch(c.box,function(b){c.busy||(c.startX=c.pointX=b.screenX,c.startY=c.pointY=b.screenY,isFirst=!0,d=!0,a={x:b.screenX,y:b.screenY})},function(e){if(!c.busy){if(!d)return!1;var f=c.move(e.screenX,e.screenY);if(isFirst&&(isFirst=!1,b=f),b!==f)return d=!1,!1;if(a={x:e.screenX,y:e.screenY},!f)return f}},function(b){f=0,d?!c.busy&&c.movEnd(b.screenX,b.screenY):!c.busy&&c.movEnd(a.x,a.y)})},this.autoScroll=function(){var a=this;a.loop&&a.auto&&(clearTimeout(a.timer),a.timer=setTimeout(function(){a.goIndex((a.index+1)%a.size)},a.auto_wait_time))},this.tabsClick=function(a){var b=this,c=(b.tabs.width()/this.contents.size(),b.tabs.children());c.get(a);b.tabBgMove=c.eq(a).position().left,b.busy||(clearTimeout(b.timer),b.goIndex(a))},this.goIndex=function(a,b){var c=this,d=(c.nowLeft,c.width),e=c.size,f=b||!1,g=c.tabs.children();g.get(a);c.busy=!0,0>a?a=0:a>=e&&(a=e-1),-1==a||a==e?(c.index=-1==a?e-1:0,c.nowLeft=-1==a?0:-d*(e+1)):(c.index!=a&&(f=!0),c.index=a,c.nowLeft=-(d*a)),c.tabsClick(a),c.tabBg.css(this.getStyle(1)[1]),g.removeClass("on").eq(a).addClass("on"),c.box.css(this.getStyle(1)[0]),setTimeout(function(){c.complete(a,f)},5)},this.complete=function(a,b){var c=this;c.busy=!1,c.fixPage(a),c.autoScroll(),0!=b&&c.config.callback&&c.config.callback(c.index)},this.fixPage=function(a){var b=this;if(b.config.pageFixed){b.index!=a&&window.scrollTo(0,0);var c=document.documentElement.clientHeight+(b.config.pageFixedPx||0);this.contents.each(function(b,d){var d=$(d);b==a?d.css("max-height",""):d.css("max-height",c)})}},this.next=function(){this.busy||this.goIndex(this.index+1)},this.prev=function(){this.busy||this.goIndex(this.index-1)},this.move=function(a,b){var c=this,d=c.tabs.children(),e=(d.get(c.index),a-(null===this.pointX?a:this.pointX)),f=(b-(null===this.pointY?b:this.pointY),Math.abs(a-this.startX)*c.slope<=Math.abs(b-this.startY));if(f)return this.preventDefault=!0,!0;if(c.terminalFix){if(0==c.index&&e>0)return this.preventDefault=!0,!0;if(c.index==c.size-1&&0>e)return this.preventDefault=!0,!0}return this.nowLeft=this.nowLeft+e,this.pointX=a,this.box.css(this.getStyle(2)[0]),this.tabBgMove=this.tabBgMove-e/this.width*this.tabBg.width(),d.removeClass("on").eq(c.index).addClass("on"),this.preventDefault=!1,!1},this.movEnd=function(a,b){var c=this.nowLeft=a-(null===this.startX?a:this.startX);if(this.preventDefault===!0)index=this.index;else{if(0===c)return;-70>c?index=this.index+1:c>70?index=this.index-1:index=this.index}this.pointX=null,this.goIndex(index)},this.getStyle=function(a){var b=this,c=b.nowLeft,d=1==a?b.scrollTime:0,e=b.tabBgMove;return[{"-webkit-transition":"-webkit-transform "+d+"ms","-webkit-transform":"translateX("+c+"px)","-webkit-backface-visibility":"hidden",transition:"transform "+d+"ms",transform:"translateX("+c+"px)"},{"-webkit-transition":"-webkit-transform "+d+"ms","-webkit-transform":"translateX("+e+"px)","-webkit-backface-visibility":"hidden",transition:"transform "+d+"ms",transform:"translateX("+e+"px)"}]},this.init()},speedCounter:function(a){var b=a&&a.rate||.3,c=(a&&a.countRecord||3,[]);return{start:function(a){c=[],c.push({time:new Date,x:a.screenX,y:a.screenY})},update:function(a){c.push({time:new Date,x:a.screenX,y:a.screenY})},getValue:function(a){var d=c.length,e=c[--d],f=c[--d],g=0;if(speedY=0,e&&f){var h=e.x-f.x,i=e.y-f.y,j=Math.abs(f.time-e.time);g=h*b*1e3/j,speedY=i*b*1e3/j}return{x:g,y:speedY}},getValueFromBeginToEnd:function(a){var b=c.length,d=c[--b],e=c[0],f=0;if(speedY=0,d&&e){var g=d.x-e.x,h=d.y-e.y;f=g,speedY=h}return{x:f,y:speedY}}}},limitor:function(a,b){return{getValue:function(c){return a>c?a:c>b?b:c}}},menuSlide:function(a,b,c){el=$(a);var d=el.children(),e=window.innerWidth;e>640&&(e=640);var f=e-el.width();f>0&&(f=0);var g,h,i=0,j=this.speedCounter(),k=this.limitor(f,0),l=el.find("."+c);l.length?(i=el.children().eq(0).offset().left-l.offset().left,i=k.getValue(i),el.css("-webkit-transform","translateX("+i+"px)")):el.children().eq(0).addClass(c),Exp.touchstart(el,function(a,c){g=a.screenX;var d=/\((?:[\s,]*([-\d\.]+)[px\s]*)?(?:[\s,]*([-\d\.]+)[px\s]*)?(?:[\s,]*([-\d\.]+)[px\s]*)?/g,e=d.exec(el.css("-webkit-transform"));return h=parseFloat(e&&e[1]||0),el.css("-webkit-transform","translateX("+h+"px)"),el.removeClass(b),j.start(a),!1}),Exp.touchmove(el,function(a){i=h+a.screenX-g,i=k.getValue(i),el.css("-webkit-transform","translateX("+i+"px)"),j.update(a)}),Exp.touchend(el,function(a){el.addClass(b),i+=j.getValue().x,i=k.getValue(i),el.css("-webkit-transform","translateX("+i+"px)")}),Exp.click(d,function(){el.addClass(b);var a=el.find("."+c).index(),d=$(this).index();$(this).addClass(c).siblings().removeClass(c),d!=a&&(d>a?i-=$(this).width():i+=$(this).width(),i=k.getValue(i),el.css("-webkit-transform","translateX("+i+"px)"))})},bottomMenu:function(a,b,c,d){function e(a){h&&clearTimeout(h),f(),h=setTimeout(g,j)}function f(){k&&(k=!1,i.removeClass(b),k=!1)}function g(){k||(k=!0,m=!1,i.addClass(b),k=!0)}var h,i=$(a),j=c,k=!0;window.addEventListener("scroll",function(){e()});var l=$(d),m=!1;Exp.touchstart(l,function(){m=!0,e()}),Exp.touchmove(l,function(){m&&e()}),Exp.touchend(l,function(){m=!1})},inputTrim:function(a){function b(){return a.element.val()||a.element.text()}function c(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}function d(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function e(){var e=a.element,f=b(),g=a.tip,h=a.trimReg;if(g==f&&(f=""),h){var i=f.match(h),j=i?i.join(""):"";if(i=j.match(h),j=i?i[0]:"",j!=f){var k=d(e[0]);e.val(j),c(e[0],k-1)}}}a.element.on("input",function(){e()})},pulldownRefresh:function(a){function b(){r.css({height:"0"})}function c(){r.css({"-webkit-transition":"height 0.4s ease"})}function d(){r.css({"-webkit-transition":""})}function e(){r.find("span").html("已是最新数据"),r.find("i").addClass("ui-hide"),setTimeout(function(){b(),r.css({"-webkit-transition":"height 0.5s liner"})},1e3)}var f,g,h,i,j,k,l,m,n,o,p,q=a.insertBeforeEl,r=a.element,s=!1,t=a.noDie;return Exp.touchstart(q,function(a){s||(j=a.screenX,f=a.screenY,o=$(window).scrollTop(),$(".zc-title .title-list").css("opacity",0).hide(),p=$("body").height(),d())}),Exp.touchmove(q,function(a){if(!(s||o>0)){if(n=a.screenX,h=a.screenY,k=n-j,g=h-f,l=0>k?-k:k,m=0>g?-g:g,2*l>m)return!0;var b=80,c=50;if(!(0>g))return r.find("i").removeClass("load"),0==o?(i=g/p*g,i=i>b?b:i,r.find("i").removeClass("ui-hide"),i>c&&b>=i?(r.find("span").html("释放立即刷新"),r.find("i").addClass("up")):(r.find("span").html("下拉刷新"),r.find("i").removeClass("up")),r.css({height:i+"px"}),!1):void 0}}),Exp.touchend(q,function(d){if(!s){if(l>m)return!0;var f=document.body.scrollTop;if(r.find("i").hasClass("load")&&0>f&&(r.find("i").removeClass("load"),a.stopStaut=!0,a.endCallback(a),f>40&&(document.body.scrollTop=0),b()),(0>g||0!==f)&&r.find("i").hasClass("load"))return!1;g>0&&(a.endCallback&&r.find("i").hasClass("up")?(a.stopStaut=!1,a.hide=b,a.refreshNoData=e,a.endCallback(a),r.find("span").html("正在加载中..."),r.find("i").addClass("load"),r.css({height:"36px"})):b()),c()}}),{destory:function(){t||r.remove(),s=!0}}},logger:function(a){for(var b="",c=0;c<arguments.length;c++)b+="-----"+arguments[c];$.ajax({url:"data/logger.json"+b+"-------------------------",type:"get",dataType:"json",data:{},success:function(){}})},clickActive:function(a){function b(a){for(var b="";"html"!=a[0].tagName.toLowerCase()&&(b=a.css("background-color"),"rgba(0, 0, 0, 0)"==b||"transparent"==b);)a=a.parent();return b}function c(a){for(var b,c=a.match(/\d+/gi),d="rgb(",e=0;3>e;e++)b=Math.ceil(c[e]-(256-c[e])/8-21),b=0>b?0:b,d+=b,2!=e&&(d+=",");return d+=")"}a||(a=$(document.body));var d=this;a.find("[data-clickactive]").each(function(a,e){function f(){l?(e.css("background-color",n),e.addClass("click-active")):(e.css("background-color",""),e.removeClass("click-active"))}var g,h,i,j,k,e=$(e),l=!1,m=100,n=e.data("clickactive")||c(b(e)),o=e.data("href");"change"==n&&(i=!0),e.removeAttr("data-clickactive").removeAttr("data-href"),d.touchstart(e,function(a){return h&&clearInterval(h),a.target&&$(a.target).is("[data-clickforbidden]")?void(k=!0):(k=!1,void(i&&(j=e.is("[data-clickforbidden]"))||(g={x:a.clientX,y:a.clientY},l=!0,h=setInterval(f,m),i&&(n=c(b(e))))))}),d.touchmove(e,function(a){i&&j||k||(l=!1,clearInterval(h),f())}),d.touchend(e,function(a){if(!(i&&j||k)){if(g){var b=a.clientX,c=a.clientY;Math.abs(g.x-b)<=5&&Math.abs(g.y-c)<=5?(f(),l=!1,setTimeout(f,m),o&&setTimeout(function(){window.location.href=o},m+40)):(l=!1,f()),clearInterval(h)}g=null,l=!1}}),e.on("touchcancel",function(a){l=!1})})},createLoading:function(a){var b='<div class="loading loading-animate"></div><span>'+(a||"加载中...")+"</span>",c=Exp.alertBox({type:"validate",msg:b,callBack:function(){}});return{reset:function(){c.reset()}}},createCanvasLoading:function(a,b){if(!b)var b="加载中...";a=a||$(document.body);var c=(height=36,a.parent()),d=$('<div class="exploading"><div class="sn-loading"></div><div class="intro">'+b+"</div></div>");d.insertAfter(a);var e=Exp.position.scrollTop(),f=c.offset();d.css({top:(window.innerHeight-d.height())/2+e-f.top,
left:(f.width-d.width())/2,opacity:1});var g=0,h=d.find(".sn-loading"),i=setInterval(function(){g+=152,g>3e3&&(g=0),h.css("background-position-x",-g+"px")},60);return{remove:function(){i&&clearInterval(i),d.remove()}}},showAlert:function(a,b,c){if("number"==typeof b){var d=c;c=b,b=d}Exp.alertBox({type:"validate",msg:a,callBack:function(){var a=this;setTimeout(function(){a.reset(),b&&b()},c||2e3)}})},openPopWindow:function(a,b,c,d,e){"function"==typeof b&&(e=d,d=c,c=b,b={}),e=e||{};var f='<div class="alert-box pop-window'+(e.rootClass?" "+e.rootClass:"")+'">',g="</div>";return Exp.alertBox({type:"custom",html:f+template.compile("string"==typeof a?a:a.html())(b)+g,contextAnimate:!0,animate:"alert-box-anim2",bgAnimate:"alert-bg-anim2",animateOut:"alert-box-anim-out2",bgAnimateOut:"alert-bg-anim-out2",bgClickReset:e.bgClickReset,upOffset:e.upOffset,resetCallback:e.resetCallback,asyncResetCallback:e.asyncResetCallback,scrollerClass:e.scrollerClass,callBack:function(){var a=$(this.el),b=($(this.bg),this);e.callback&&e.callback.call(b),Exp.clickActive(),Exp.click(a.find(".close"),function(){var a;d&&(a=d()),a!==!1&&b.reset()}),Exp.click(a.find(".confirm"),function(){var a;c&&(a=c()),a!==!1&&b.reset()})}})},init:function(){this.clickActive()}};return Exp.click($(document.body),function(){}),Exp.init(),Exp}($,template);